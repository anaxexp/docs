# Custom provider

## Connecting custom git repository

1. Navigate to `My repos > Connect` and select `Custom git` provider 
2. Enter title and URL to your git repository. Click `Proceed`
3. Copy the public key generated by AnaxExp to `~/.ssh/authorized_keys` on a server with your git.

## Add git hook for auto-deployment

* Navigate to your git repo page in AnaxExp Dashboard and copy the auto-deployment `Webhook URL`
* Connect to the server with your origin git repository
* Go to `.git/hooks` directory and create a new file `post-receive.sh` with the following content (replace `<WEBHOOK URL>`  in this file with the URL you copied before)
```shell
#!/bin/sh
while read oldrev newrev ref
do
    curl -H "Content-type: application/json" -X POST -d '{"ref": "'"$ref"'"}' <WEBHOOK URL>
done
```
* Now make this file executable
```shell
chmod +X post-receive.sh
```

## Connecting custom server

In case there's no native integration for your hosting provider, you can always connect your node (list of [supported OS](../infrastructure/connecting-server.md#supported-os) by using feature "Custom server" regardless what hosting you're using:

0. Learn [requirements and recommendations](../infrastructure/connecting-server.md#requirements-and-recommendations)

1. Go to `My servers > Add`. Select `Custom server` and click proceed

2. You will see the page with requirements and instructions. Make sure all requirements are met
 
3. Connect to your server by SSH and execute the agent installation command as a root. This command will download our agent which sets up the infrastructure and connects your server to our platform

4. Now you can deploy apps to this server
